name: e2e-mock-slow-multi-step
description: Multi-step mock piece to keep tasks in-flight long enough for SIGINT E2E

max_movements: 20

initial_movement: step-1

movements:
  - name: step-1
    edit: true
    persona: ../agents/test-coder.md
    instruction_template: |
      {task}
    rules:
      - condition: Done
        next: step-2

  - name: step-2
    edit: true
    persona: ../agents/test-coder.md
    instruction_template: |
      Continue task execution.
    rules:
      - condition: Done
        next: step-3

  - name: step-3
    edit: true
    persona: ../agents/test-coder.md
    instruction_template: |
      Continue task execution.
    rules:
      - condition: Done
        next: step-4

  - name: step-4
    edit: true
    persona: ../agents/test-coder.md
    instruction_template: |
      Continue task execution.
    rules:
      - condition: Done
        next: step-5

  - name: step-5
    edit: true
    persona: ../agents/test-coder.md
    instruction_template: |
      Continue task execution.
    rules:
      - condition: Done
        next: step-6

  - name: step-6
    edit: true
    persona: ../agents/test-coder.md
    instruction_template: |
      Continue task execution.
    rules:
      - condition: Done
        next: step-7

  - name: step-7
    edit: true
    persona: ../agents/test-coder.md
    instruction_template: |
      Continue task execution.
    rules:
      - condition: Done
        next: step-8

  - name: step-8
    edit: true
    persona: ../agents/test-coder.md
    instruction_template: |
      Finalize task execution.
    rules:
      - condition: Done
        next: COMPLETE
